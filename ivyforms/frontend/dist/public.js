import{d as Z,O as Qe,c as B,l as A,f as q,h as N,e as pe,a3 as Xe,aR as Ze,g as J,t as X,aO as et,k as j,v as ee,K as te,r as R,w as ie,o as ge,b as $e,m as Q,bt as tt,s as we,p as De,A as re,bu as Le,a as ze,Z as rt,u as it,D as O,aq as Ae,ar as st,ap as at,at as nt,as as ot,ao as lt,an as ut,av as ct,au as dt,aw as ft,ax as mt,am as pt,aA as vt,ba as yt,F as Fe,q as Pe,j as ht,H as gt,i as wt,aV as Te,a$ as _t,n as Ve,ae as bt,X as Ke,bl as It,bm as xt,bn as Ft,bo as Vt,al as he,br as $t,bq as Et,bs as Dt}from"./chunks/index-DVSPPBIn.js";const Lt={class:"ivyforms-field__website-prefix"},Mt={class:"ivyforms-field__website-suffix"},Ct=Z({__name:"WebsiteFormField",props:{modelValue:{default:""},field:{},disabled:{type:Boolean,default:!1},error:{default:""}},emits:["update:modelValue"],setup(c,{emit:l}){const m=c,n=l,t=Qe("clearFieldError",()=>{}),_=B(()=>m.field.type+"_"+m.field.fieldIndex),g=M=>{n("update:modelValue",M),t(_.value)},I=B({get(){return m.modelValue},set(M){g(M)}}),x=B(()=>`ivyforms-field__website-input_${m.field.formId||""}_${m.field.fieldIndex||""}`);return(M,K)=>{const Y=Xe,v=et;return q(),A("div",{class:j(["ivyforms-field ivyforms-field__website","ivyforms-field__website_"+c.field.id,c.field.cssClasses])},[N(v,{label:c.field.hideLabel?"":c.field.label,required:c.field.required,error:c.error,prop:c.field.type+"_"+c.field.fieldIndex,"show-info":!!c.field.description,"info-text":c.field.description||"","show-info-icon":!1,"label-position":c.field.labelPosition},{default:pe(()=>[N(Y,{id:x.value,modelValue:I.value,"onUpdate:modelValue":K[0]||(K[0]=V=>I.value=V),class:"ivyforms-field__website-input",type:"text","aria-label":c.field.label,placeholder:c.field.placeholder,disabled:c.disabled,readonly:c.field.readOnly,required:c.field.required,maxlength:c.field.limitMaxLength?c.field.maxLength:void 0},Ze({_:2},[c.field.inputPrefix?{name:"prefix",fn:pe(()=>[J("span",Lt,X(c.field.inputPrefix),1)]),key:"0"}:void 0,c.field.inputSuffix?{name:"suffix",fn:pe(()=>[J("span",Mt,X(c.field.inputSuffix),1)]),key:"1"}:void 0]),1032,["id","modelValue","aria-label","placeholder","disabled","readonly","required","maxlength"])]),_:1},8,["label","required","error","prop","show-info","info-text","label-position"])],2)}}}),Rt=ee(Ct,[["__scopeId","data-v-5c194f2b"]]),kt={class:"ivyforms-recaptcha-field ivyforms-mx-0 ivyforms-my-20"},Yt={key:1,class:"ivyforms-security-field-error ivyforms-flex ivyforms-align-items-center regular-14 ivyforms-mt-6 ivyforms-gap-4"},qt={key:2,class:"ivyforms-recaptcha-not-configured"},St=Z({__name:"RecaptchaFormField",props:{field:{},modelValue:{},error:{}},emits:["update:modelValue"],setup(c,{expose:l,emit:m}){const n=c,t=m,{getLabel:_}=te(),g=R(""),I=R("");ie(()=>n.error,L=>{L&&(I.value=L)},{immediate:!0});const x=B(()=>{if(typeof window<"u"&&window.wpIvyRecaptchaConfig){const L=window.wpIvyRecaptchaConfig;if(!L||Array.isArray(L)||typeof L!="object")return!1;const T=L.enabled===!0||L.enabled==="true"||L.enabled==="1"||L.enabled===1,d=L.provider==="recaptcha";if(!(L.recaptcha&&typeof L.recaptcha=="object"))return!1;const U=L.recaptcha,W=U.configured===!0||U.configured==="true"||U.configured==="1"||U.configured===1,ve=U.siteKey&&typeof U.siteKey=="string"&&U.siteKey.trim()!=="";return T&&d&&W&&ve}return!1}),M=B(()=>{if(typeof window<"u"&&window.wpIvyRecaptchaConfig){const L=window.wpIvyRecaptchaConfig;if(L&&typeof L=="object"&&!Array.isArray(L)&&L.recaptcha){const T=L.recaptcha;return{siteKey:T.siteKey||"",type:T.type||"v2",theme:T.theme||"light",language:T.language||"en"}}}return{siteKey:"",type:"v2",theme:"light",language:"en"}}),K=L=>{g.value=L,I.value="",t("update:modelValue",L)},Y=()=>{g.value="",I.value=_("recaptcha_expired"),t("update:modelValue","")},v=L=>{console.error("reCAPTCHA error:",L),g.value="",I.value=L.message,t("update:modelValue","")},V=R();return l({executeRecaptcha:async(L="submit")=>{if(I.value="",!V.value){const d=_("recaptcha_widget_not_initialized_field");throw I.value=d,new Error(d)}if(M.value.type==="v3")try{return await V.value.execute(L)}catch(d){const H=_("recaptcha_v3_failed");throw console.error(H,d),I.value=H,d}else if(M.value.type==="invisible")try{return await V.value.execute()}catch(d){const H=_("recaptcha_invisible_failed");throw console.error(H,d),I.value=H,d}const T=g.value;if(!T){const d=_("recaptcha_complete_verification");throw I.value=d,new Error(d)}return T}}),ge(()=>{n.modelValue&&(g.value=n.modelValue,I.value="")}),(L,T)=>(q(),A("div",kt,[x.value?(q(),$e(tt,{key:0,ref_key:"recaptchaWidgetRef",ref:V,modelValue:g.value,"onUpdate:modelValue":T[0]||(T[0]=d=>g.value=d),config:M.value,error:I.value,onVerify:K,onExpire:Y,onError:v},null,8,["modelValue","config","error"])):Q("",!0),I.value?(q(),A("div",Yt,[N(De,{name:"danger",size:"s",type:"fill-duo",color:"var(--map-status-error-symbol-0)"}),we(" "+X(I.value),1)])):x.value?Q("",!0):(q(),A("div",qt,[N(Le,{description:re(_)("recaptcha_not_configured"),type:"warning"},null,8,["description"])]))]))}}),At=ee(St,[["__scopeId","data-v-88ba39c7"]]);function fe(c){try{const{getLabel:l}=te();return l(c)}catch{return c}}class le{static instance;siteKey=null;widgetId=null;scriptLoaded=!1;language="auto";static getInstance(){return le.instance||(le.instance=new le),le.instance}async init(l,m){return this.siteKey=l,this.language=m||"auto",new Promise(n=>{window.turnstile?(this.scriptLoaded=!0,n()):setTimeout(()=>{window.turnstile?(this.scriptLoaded=!0,n()):(console.warn(fe("turnstile_script_not_found")),n())},100)})}async render(l,m={}){if(!window.turnstile||!this.siteKey)throw new Error(fe("turnstile_not_initialized"));const n={sitekey:this.siteKey,callback:m.callback,"expired-callback":m["expired-callback"],"error-callback":m["error-callback"],"timeout-callback":m["timeout-callback"],size:m.size||"normal",theme:m.theme||"auto",language:this.language,tabindex:m.tabindex,"response-field":m["response-field"],"response-field-name":m["response-field-name"]};return new Promise(t=>{this.widgetId=window.turnstile.render(l,n),t(this.widgetId)})}async execute(){if(!window.turnstile)throw new Error(fe("turnstile_not_initialized"));if(!this.widgetId)throw new Error(fe("turnstile_widget_not_initialized"));return new Promise((l,m)=>{try{window.turnstile.execute(this.widgetId);const n=setTimeout(()=>{m(new Error(fe("turnstile_execution_timeout")))},3e4),t=()=>{const _=this.getResponse();_?(clearTimeout(n),l(_)):setTimeout(t,100)};t()}catch(n){m(n)}})}getResponse(){return!window.turnstile||!this.widgetId?"":window.turnstile.getResponse(this.widgetId)||""}reset(){window.turnstile&&this.widgetId&&window.turnstile.reset(this.widgetId)}remove(){window.turnstile&&this.widgetId&&(window.turnstile.remove(this.widgetId),this.widgetId=null)}isExpired(){return!window.turnstile||!this.widgetId?!0:window.turnstile.isExpired(this.widgetId)}getWidgetId(){return this.widgetId}isReady(){return this.scriptLoaded&&!!window.turnstile}getSiteKey(){return this.siteKey}}const ne=le.getInstance(),Pt=Z({__name:"Turnstile",props:{siteKey:{},theme:{},language:{},modelValue:{},error:{}},emits:["update:modelValue","verify","expire","error"],setup(c,{expose:l,emit:m}){const n=c,t=m,_=R(),g=R(null),I=R(!0),x=R(null),{getLabel:M}=te();ge(async()=>{try{await K()}catch(d){x.value=d instanceof Error?d.message:M("turnstile_init_failed"),t("error",x.value)}}),ze(()=>{g.value!==null&&ne.reset()}),ie(()=>[n.siteKey,n.theme,n.language],async()=>{await K()});async function K(){if(!(!n.siteKey||!_.value))try{I.value=!0,x.value=null,await ne.init(n.siteKey,n.language);const d={callback:Y,"expired-callback":v,"error-callback":V,size:"normal",theme:n.theme||"auto"};g.value=await ne.render(_.value,d),I.value=!1}catch(d){x.value=d instanceof Error?d.message:M("turnstile_initialization_failed"),I.value=!1,t("error",x.value)}}function Y(d){t("update:modelValue",d),t("verify",d)}function v(){t("update:modelValue",""),t("expire")}function V(){const d=M("turnstile_verification_failed");t("update:modelValue",""),t("error",d)}async function $(){try{const d=await ne.execute();return t("update:modelValue",d),t("verify",d),d}catch(d){const H=d instanceof Error?d.message:M("turnstile_execution_failed");throw t("error",H),d}}function L(){ne.reset(),t("update:modelValue","")}function T(){return ne.getResponse()}return l({execute:$,reset:L,getResponse:T,isLoading:()=>I.value,hasError:()=>!!x.value,getError:()=>x.value}),(d,H)=>(q(),A("div",{ref_key:"turnstileContainer",ref:_,class:j(["ivyforms-turnstile-container ivyforms-flex ivyforms-justify-content-start ivyforms-align-items-center",{"ivyforms-mb-18":!n.error}])},null,2))}}),Tt=ee(Pt,[["__scopeId","data-v-21e83a6a"]]),Kt={key:0,class:"ivyforms-security-field-error ivyforms-flex ivyforms-align-items-center regular-14 ivyforms-mt-6 ivyforms-gap-4"},Ot={key:1,class:"ivyforms-turnstile-not-configured ivyforms-width-100"},Ht=Z({__name:"TurnstileFormField",props:{field:{},modelValue:{},error:{}},emits:["update:modelValue"],setup(c,{emit:l}){const m=c,n=l,{getLabel:t}=te(),_=R(""),g=R(""),I=B(()=>{if(!window.wpIvyTurnstileConfig||Array.isArray(window.wpIvyTurnstileConfig))return!1;const V=window.wpIvyTurnstileConfig.turnstile;return V?(V.configured===!0||V.configured===1||V.configured==="1")&&!!V.siteKey:!1}),x=B(()=>{if(!window.wpIvyTurnstileConfig||Array.isArray(window.wpIvyTurnstileConfig))return{siteKey:"",theme:"auto",language:""};const V=window.wpIvyTurnstileConfig.turnstile;return V?{siteKey:V.siteKey||"",theme:V.theme||"auto",language:V.language||""}:{siteKey:"",theme:"auto",language:""}}),M=v=>{_.value=v,g.value="",n("update:modelValue",v)},K=v=>{g.value=v||t("turnstile_verification_failed"),_.value="",n("update:modelValue","")},Y=()=>{g.value=t("turnstile_expired"),_.value="",n("update:modelValue","")};return ie(()=>m.error,v=>{v&&(g.value=v)},{immediate:!0}),(v,V)=>I.value?(q(),A("div",{key:0,class:j(["ivyforms-turnstile-container ivyforms-flex ivyforms-flex-direction-column ivyforms-gap-12 ivyforms-width-100",{"ivyforms-turnstile-container--has-error":c.error}])},[N(Tt,{"site-key":x.value.siteKey,theme:x.value.theme,language:x.value.language,error:g.value,onVerify:M,onError:K,onExpire:Y},null,8,["site-key","theme","language","error"]),g.value?(q(),A("div",Kt,[N(De,{name:"danger",size:"s",type:"fill-duo",color:"var(--map-status-error-symbol-0)"}),we(" "+X(g.value),1)])):Q("",!0)],2)):(q(),A("div",Ot,[N(Le,{description:re(t)("turnstile_not_configured_public"),type:"warning"},null,8,["description"])]))}}),zt=ee(Ht,[["__scopeId","data-v-0a527716"]]);function me(c){try{const{getLabel:l}=te();return l(c)}catch{return c}}class ue{static instance;siteKey=null;widgetId=null;scriptLoaded=!1;language="auto";static getInstance(){return ue.instance||(ue.instance=new ue),ue.instance}async init(l,m){return this.siteKey=l,this.language=m||"auto",new Promise(n=>{window.hcaptcha?(this.scriptLoaded=!0,n()):(window.onHCaptchaLoad||(window.onHCaptchaLoad=()=>{this.scriptLoaded=!0,n()}),setTimeout(()=>{window.hcaptcha?(this.scriptLoaded=!0,n()):(console.warn(me("hcaptcha_script_not_found")),n())},100))})}async render(l,m={}){if(!window.hcaptcha||!this.siteKey)throw new Error(me("hcaptcha_not_initialized"));const n={sitekey:this.siteKey,callback:m.callback,"expired-callback":m["expired-callback"],"error-callback":m["error-callback"],size:m.size||"normal"};return new Promise(t=>{this.widgetId=window.hcaptcha.render(l,n),t(this.widgetId)})}async execute(){if(!window.hcaptcha)throw new Error(me("hcaptcha_not_initialized"));if(!this.widgetId)throw new Error(me("hcaptcha_widget_not_initialized"));return new Promise((l,m)=>{try{window.hcaptcha.execute(this.widgetId);const n=setTimeout(()=>{m(new Error(me("hcaptcha_execution_timeout")))},3e4),t=()=>{const _=this.getResponse();_?(clearTimeout(n),l(_)):setTimeout(t,100)};t()}catch(n){m(n)}})}getResponse(){return!window.hcaptcha||!this.widgetId?"":window.hcaptcha.getResponse(this.widgetId)||""}reset(){window.hcaptcha&&this.widgetId&&window.hcaptcha.reset(this.widgetId)}remove(){window.hcaptcha&&this.widgetId&&(window.hcaptcha.remove(this.widgetId),this.widgetId=null)}getWidgetId(){return this.widgetId}isReady(){return this.scriptLoaded&&!!window.hcaptcha}getSiteKey(){return this.siteKey}}const oe=ue.getInstance(),Nt=Z({__name:"HCaptcha",props:{siteKey:{},type:{},modelValue:{},error:{}},emits:["update:modelValue","verify","expire","error"],setup(c,{expose:l,emit:m}){const n=c,t=m,_=R(),g=R(null),I=R(!0),x=R(null),{getLabel:M}=te();ge(async()=>{try{await K()}catch(d){x.value=d instanceof Error?d.message:M("hcaptcha_init_failed"),t("error",x.value)}}),ze(()=>{g.value!==null&&oe.reset()}),ie(()=>[n.siteKey,n.type],async()=>{await K()});async function K(){if(!(!n.siteKey||!_.value))try{I.value=!0,x.value=null,await oe.init(n.siteKey);const d={callback:Y,"expired-callback":v,"error-callback":V,size:"normal"};g.value=await oe.render(_.value,d),I.value=!1}catch(d){x.value=d instanceof Error?d.message:M("hcaptcha_initialization_failed"),I.value=!1,t("error",x.value)}}function Y(d){t("update:modelValue",d),t("verify",d)}function v(){t("update:modelValue",""),t("expire")}function V(){const d=M("hcaptcha_verification_failed");t("update:modelValue",""),t("error",d)}async function $(){try{const d=await oe.execute();return t("update:modelValue",d),t("verify",d),d}catch(d){const H=d instanceof Error?d.message:M("hcaptcha_execution_failed");throw t("error",H),d}}function L(){oe.reset(),t("update:modelValue","")}function T(){return oe.getResponse()}return l({execute:$,reset:L,getResponse:T,isLoading:()=>I.value,hasError:()=>!!x.value,getError:()=>x.value}),(d,H)=>(q(),A("div",{ref_key:"hcaptchaContainer",ref:_,class:j(["ivyforms-hcaptcha-container ivyforms-flex ivyforms-justify-content-start ivyforms-align-items-center",{"ivyforms-hcaptcha-container--invisible":c.type==="invisible","ivyforms-mb-18":!n.error}])},null,2))}}),Wt=ee(Nt,[["__scopeId","data-v-5de9d5ba"]]),jt={key:0,class:"ivyforms-security-field-error ivyforms-flex ivyforms-align-items-center regular-14 ivyforms-mt-6 ivyforms-gap-4"},Bt={key:1,class:"ivyforms-hcaptcha-not-configured ivyforms-width-100"},Ut=Z({__name:"HCaptchaFormField",props:{field:{},modelValue:{},error:{}},emits:["update:modelValue"],setup(c,{emit:l}){const m=c,n=l,{getLabel:t}=te(),_=R(""),g=R(""),I=B(()=>{if(!window.wpIvyHCaptchaConfig||Array.isArray(window.wpIvyHCaptchaConfig))return!1;const V=window.wpIvyHCaptchaConfig.hcaptcha;return V?(V.configured===!0||V.configured===1||V.configured==="1")&&!!V.siteKey:!1}),x=B(()=>{if(!window.wpIvyHCaptchaConfig||Array.isArray(window.wpIvyHCaptchaConfig))return{siteKey:"",type:"checkbox"};const V=window.wpIvyHCaptchaConfig.hcaptcha;return V?{siteKey:V.siteKey||"",type:V.type||"checkbox"}:{siteKey:"",type:"checkbox"}}),M=v=>{_.value=v,g.value="",n("update:modelValue",v)},K=v=>{g.value=v||t("hcaptcha_verification_failed"),_.value="",n("update:modelValue","")},Y=()=>{g.value=t("hcaptcha_expired"),_.value="",n("update:modelValue","")};return ie(()=>m.error,v=>{v&&(g.value=v)},{immediate:!0}),(v,V)=>I.value?(q(),A("div",{key:0,class:j(["ivyforms-hcaptcha-container ivyforms-flex ivyforms-flex-direction-column ivyforms-width-100",{"ivyforms-hcaptcha-container--has-error":c.error}])},[N(Wt,{"site-key":x.value.siteKey,type:x.value.type,error:g.value,onVerify:M,onError:K,onExpire:Y},null,8,["site-key","type","error"]),g.value?(q(),A("div",jt,[N(De,{name:"danger",size:"s",type:"fill-duo",color:"var(--map-status-error-symbol-0)"}),we(" "+X(g.value),1)])):Q("",!0)],2)):(q(),A("div",Bt,[N(Le,{description:re(t)("hcaptcha_not_configured_public"),type:"warning"},null,8,["description"])]))}}),Gt=ee(Ut,[["__scopeId","data-v-b7f0d50b"]]),Jt={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"};function Qt(c,l){return q(),A("svg",Jt,[...l[0]||(l[0]=[J("path",{fill:"currentColor",d:"M16.03 10.03a.75.75 0 1 0-1.06-1.06l-4.47 4.47-1.47-1.47a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0z"},null,-1)])])}const Xt={render:Qt},Zt={class:"ivyforms-circle-loader__check ivyforms-flex ivyforms-align-items-center ivyforms-justify-content-center ivyforms-width-100"},er=Z({__name:"IvyCircleLoader",props:{size:{default:"d"},completed:{type:Boolean,default:!1}},setup(c){return(l,m)=>(q(),A("span",{class:j(["ivyforms-circle-loader ivyforms-align-items-center ivyforms-justify-content-center",[`ivyforms-circle-loader--${c.size}`,{"ivyforms-circle-loader--completed":c.completed}]])},[m[0]||(m[0]=J("svg",{viewBox:"0 0 24 24",class:"ivyforms-circle-loader__svg ivyforms-width-100"},[J("circle",{class:"ivyforms-circle-loader__bg",cx:"12",cy:"12",r:"10"}),J("circle",{class:"ivyforms-circle-loader__track",cx:"12",cy:"12",r:"10"}),J("circle",{class:"ivyforms-circle-loader__progress",cx:"12",cy:"12",r:"10"})],-1)),J("span",Zt,[N(re(Xt))])],2))}}),tr=ee(er,[["__scopeId","data-v-51e64049"]]),rr={key:0,class:"ivyforms-success-message"},ir={key:0,class:"ivyforms-success-message ivyforms-mb-24"},sr=Z({__name:"FormRender",setup(c){const{startWatching:l}=rt();l();const m={},n=(r,y)=>{if(y&&r){const u=O(y);m[r]=u;const b=window;b._updateFormTemplates&&b._updateFormTemplates(r,u),typeof window<"u"&&window.dispatchEvent(new CustomEvent("ivyforms:template_registered",{detail:{fieldType:r,component:u}}))}};if(typeof window<"u"){const r=window;r.IvyForms||(r.IvyForms={api:{fields:{admin:{},public:{}},hooks:{actions:{},filters:{}},fieldOptions:{registry:{}}},hooks:{actions:{},filters:{},fieldInit:[]},fields:{}}),r.IvyForms.api||(r.IvyForms.api={fields:{admin:{},public:{}},hooks:{actions:{},filters:{}},fieldOptions:{registry:{}}}),r.IvyForms.api.fields||(r.IvyForms.api.fields={admin:{},public:{}}),r.IvyForms.api.fields.registerPublic=n,(r.IvyForms._publicFieldQueue||[]).forEach(({fieldType:u,component:b})=>n(u,b)),r.IvyForms.hooks||(r.IvyForms.hooks={actions:{},filters:{},fieldInit:[]}),r.IvyForms.hooks.fieldInit||(r.IvyForms.hooks.fieldInit=[]),r.IvyForms._proFieldTypes||(r.IvyForms._proFieldTypes=new Set),r.IvyForms.api.hooks||(r.IvyForms.api.hooks={actions:{},filters:{}}),r.IvyForms.api.hooks.registerFieldInit=u=>{typeof u=="function"&&r.IvyForms.hooks.fieldInit.push(u)},r.IvyForms.api.hooks.registerProFieldType=u=>{u&&typeof u=="string"&&r.IvyForms._proFieldTypes.add(u)}}const{getLabel:t}=te(),{request:_}=it(),g=R(!1),I=R(!1),x=R(!1);function M(r){if(!Array.isArray(r)||r.length===0)return[];const y=new Map;r.forEach((o,e)=>y.set(o,e));const u=o=>o.parentId!==void 0&&o.parentId!==null,b=r.filter(o=>!u(o)),k=[];for(const o of b){const e=r.filter(F=>u(F)&&(F.parentId===o.id||F.parentId===o.fieldIndex)),h=o.settings||{};h&&(o.hideLabel===void 0&&typeof h.hideLabel<"u"&&(o.hideLabel=!!h.hideLabel),o.readOnly===void 0&&typeof h.readOnly<"u"&&(o.readOnly=!!h.readOnly),o.description===void 0&&typeof h.description<"u"&&(o.description=String(h.description||"")),o.cssClasses===void 0&&typeof h.cssClasses<"u"&&(o.cssClasses=String(h.cssClasses||"")));let p=o;window.IvyForms?.hooks?.applyFilters&&(p=window.IvyForms.hooks.applyFilters("ivyforms/form-render/filter_parse_field",o));const f=p;if(e.length>=2||f.type==="name"||f.type==="address"){const F=[...e].sort((C,i)=>{const a=(C.settings||{}).subFieldIndex,s=(i.settings||{}).subFieldIndex,E=typeof a=="number",w=typeof s=="number";return E&&w?a-s:E?-1:w?1:(y.get(C)||0)-(y.get(i)||0)});if(f.type==="name"){const C=[];F.forEach((i,a)=>{const s=`nameField${a+1}`;C.push(s);const E=i.settings||{},w=f;w[`${s}Label`]=i.label||"",w[`${s}Placeholder`]=i.placeholder||"",w[`${s}Required`]=!!i.required,typeof E.requiredMessage<"u"?w[`${s}RequiredMessage`]=E.requiredMessage:typeof i.requiredMessage<"u"&&(w[`${s}RequiredMessage`]=i.requiredMessage),typeof i.defaultValue<"u"&&(w[`${s}Value`]=i.defaultValue);const D=typeof E.hideLabel<"u",S=typeof i.hideLabel<"u";if(D||S){const P=D?!!E.hideLabel:!!i.hideLabel;w[`${s}HideLabel`]=P}typeof i.description<"u"&&(w[`${s}Description`]=String(i.description||"")),typeof i.description<"u"&&(w[`${s}Visible`]=String(i.visible||!0))}),f.nameFieldTypes=C,f.type="name"}else if(f.type==="address"){const C=["streetAddress","addressLine2","city","state","zip","country"];F.length===0?(C.forEach(i=>{const a=f;a[`${i}Label`]=f[`${i}Label`]||"",a[`${i}Placeholder`]=f[`${i}Placeholder`]||"",a[`${i}Required`]=f[`${i}Required`]||!1,a[`${i}RequiredMessage`]=f[`${i}RequiredMessage`]||"",a[`${i}Value`]=f[`${i}Value`]||"",a[`${i}HideLabel`]=f[`${i}HideLabel`]||!1,a[`${i}Description`]=f[`${i}Description`]||"",a[`${i}Visible`]=f[`${i}Visible`]||!0}),f.addressFieldTypes=C,f.type="address"):(C.forEach((i,a)=>{let s=F.find(P=>{const G=K(P.settings);return G&&G.fieldType===i||P.label&&P.label.toLowerCase().replace(/\s/g,"")===i.toLowerCase()})||F.find(P=>P.type===i);!s&&Array.isArray(F)&&F.length>a&&F[a]&&(s=F[a]);const E=s&&s.settings?K(s.settings):{},w=f;w[`${i}Label`]=s&&s.label||"",w[`${i}Placeholder`]=s&&s.placeholder||"",w[`${i}Required`]=s?!!s.required:!1,s&&typeof E.requiredMessage<"u"?w[`${i}RequiredMessage`]=E.requiredMessage:s&&typeof s.requiredMessage<"u"?w[`${i}RequiredMessage`]=s.requiredMessage:w[`${i}RequiredMessage`]="",s&&typeof s.defaultValue<"u"?w[`${i}Value`]=s.defaultValue:w[`${i}Value`]="";const D=s&&typeof E.hideLabel<"u",S=s&&typeof s.hideLabel<"u";if(D||S){const P=D?!!E.hideLabel:!!s.hideLabel;w[`${i}HideLabel`]=P}else w[`${i}HideLabel`]=!1;s&&typeof s.description<"u"?w[`${i}Description`]=String(s.description||""):w[`${i}Description`]="",s&&typeof s.visible<"u"?w[`${i}Visible`]=!!s.visible:w[`${i}Visible`]=!0}),f.addressFieldTypes=C,f.type="address")}}k.push(f)}return k}const K=r=>{if(!r)return{};if(typeof r=="string")try{return JSON.parse(r)}catch{return{}}return typeof r=="object"?r:{}},Y=R([]),v=R({}),V=R({}),$=R({}),L=R(!0),T=R(null),d=R(null),H=R([]),U=R(null),W=R([]),ve=R(!1),_e=R(!1),ye=R(""),Me=R(""),Ce=R(""),We=B(()=>{if(!Y.value||Y.value.length===0)return[];let r=[...Y.value];return window.IvyForms?.hooks?.applyFilters&&(r=window.IvyForms.hooks.applyFilters("ivyforms/form-render/filter_fields_visible",r,v.value)),r}),je=B(()=>{const r=We.value;if(!r||r.length===0)return[];const y=new Map;return r.forEach(u=>{const b=u.rowIndex??0;y.has(b)||y.set(b,[]),y.get(b).push(u)}),Array.from(y.entries()).sort(([u],[b])=>u-b).map(([,u])=>u.sort((b,k)=>(b.columnIndex??0)-(k.columnIndex??0)))}),z=R({id:"",name:"",description:"",showTitle:!0,showDescription:!1,storeEntries:!0,defaultValue:"",counter:0,fields:[],confirmations:[],formActionButtons:{submitButtonSettings:{label:t("submit"),position:"default"}}}),Be={text:O(pt),email:O(mt),textarea:O(ft),number:O(dt),phone:O(ct),website:O(Rt),time:O(ut),date:O(lt),recaptcha:O(At),turnstile:O(zt),hcaptcha:O(Gt),radio:O(ot),select:O(Ae),name:O(nt),address:O(at),checkbox:O(st),"multi-select":O(Ae)},de=vt({...Be});Object.entries(m).forEach(([r,y])=>{de[r]=y});const Re=R(0);typeof window<"u"&&(window._updateFormTemplates=(r,y)=>{de[r]=y,Re.value++},window.addEventListener("ivyforms:template_registered",r=>{const y=r,{fieldType:u,component:b}=y.detail;de[u]=b,Re.value++}),Object.entries(m).forEach(([r,y])=>{de[r]=y})),ge(async()=>{const r=window;if(typeof window<"u"&&r.wpIvyFormDataList){const u=d.value.closest(".ivyforms-frontend").getAttribute("data-counter"),b=r.wpIvyFormDataList[u];if(typeof b=="object"&&b!==null&&b.id){z.value=b.form,U.value=b.nonce,Y.value=M(b.fields||[]),W.value=b.confirmations||[],await new Promise(e=>{if(typeof window<"u"){if(window.IvyFormsProReady){e();return}const p=()=>{e(),window.removeEventListener("ivyforms:pro_ready",p)};window.addEventListener("ivyforms:pro_ready",p,{once:!0}),setTimeout(()=>{window.removeEventListener("ivyforms:pro_ready",p),e()},100)}else e()}),Y.value=M(b.fields||[]),Y.value.forEach(e=>{const h=e.type+"_"+e.fieldIndex;if(e.type==="name"){const p={};(e.nameFieldTypes||["nameField1","nameField2"]).forEach(F=>{p[F]=e[`${F}Value`]||""}),v.value[h]=p}else if(e.type==="address"){const p={};(e.addressFieldTypes||["streetAddress","addressLine2","city","state","zip","country"]).forEach(F=>{p[F]=e[`${F}Value`]||""}),v.value[h]=p}else if(e.type==="checkbox"&&Array.isArray(e.fieldOptions)){const p=e.fieldOptions.filter(f=>f.isDefault).map(f=>f.value);v.value[h]=p.length?p:void 0}else if((e.type==="radio"||e.type==="select")&&Array.isArray(e.fieldOptions)){const p=e.fieldOptions.find(f=>f.isDefault);v.value[h]=p?p.value:""}else if(e.type==="multi-select"&&Array.isArray(e.fieldOptions)){const p=e.fieldOptions.filter(f=>f.isDefault).map(f=>f.value);v.value[h]=p.length?p:void 0}else if(e.type==="website"){let p=e.defaultValue||"";const f=e.inputPrefix||"",F=e.inputSuffix||"";p&&(f||F)&&(f&&p.startsWith(f)&&(p=p.substring(f.length)),F&&p.endsWith(F)&&(p=p.substring(0,p.length-F.length))),v.value[h]=p}else if(e.type==="date"){let p=e.defaultValue||"";typeof p=="string"&&(p.includes("-9007199254740991")||p.includes("MIN_SAFE_INTEGER"))&&(p=""),v.value[h]=p}else v.value[h]=e.defaultValue||"";if(e.type==="name")(e.nameFieldTypes||["nameField1","nameField2"]).forEach(f=>{const F=`${e.type}_${e.fieldIndex}.${f}`,C=e[`${f}Label`]||t(`name_field_${f.replace("nameField","")}`),i=[];if(e[`${f}Required`]){const a=e[`${f}RequiredMessage`],s=typeof a=="string"&&a.trim()!==""?a:`${C} ${t("required")}`;i.push({required:!0,message:s,trigger:["submit"]})}V.value[F]=i});else if(e.type==="address")(e.addressFieldTypes||["streetAddress","addressLine2","city","state","zip","country"]).forEach(f=>{const F=`${e.type}_${e.fieldIndex}.${f}`,C=e[`${f}Label`]||t(`address_field_${f.replace("addressField","")}`),i=[];if(e[`${f}Required`]){const a=e[`${f}RequiredMessage`],s=typeof a=="string"&&a.trim()!==""?a:`${C} ${t("required")}`;i.push({required:!0,message:s,trigger:["submit"]})}V.value[F]=i});else{const p=[],F=window.IvyForms?._proFieldTypes?.has(e.type)||!1;e.required&&!F&&p.push({required:!0,message:se(e),trigger:["submit"]}),e.type==="email"&&p.push({validator:(C,i,a)=>{const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(g.value){a();return}if(!i){e.required?a(new Error(t("enter_email_address"))):a();return}if(!s.test(i)){a(new Error(t("enter_email_address")));return}a()},trigger:["submit"]}),e.type==="phone"&&p.push({pattern:/^[+\d]?(?:[\d\s.-]{7,15})$/,message:t("enter_phone_number"),trigger:["submit"]}),e.type==="website"&&p.push({validator:(C,i,a)=>{if(e.required&&(i===""||i===null||i===void 0))return a(new Error(se(e)));if(i===""||i===null||i===void 0)return a();let s=String(i);const E=e.inputPrefix||"",w=e.inputSuffix||"";if((E||w)&&(s=E+s+w),!/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})([/\w .-]*)*\/?$/i.test(s))return a(new Error(t("enter_valid_website")));a()},trigger:["submit"]}),e.type==="time"&&p.push({validator:(C,i,a)=>{const s=typeof i=="string"?i.trim():i,E=s==null||s==="",w=s==="__PARTIAL__";let D=!1,S="";if(e.timeFieldType==="dropdown"){if(e.required&&(E||w))return a(new Error(se(e)));if(w)return a(new Error(t("enter_valid_time")));if(!E){let P=!1;if(e.timeFormat==="ampm"?P=/^(0?[1-9]|1[0-2]):[0-5]\d ?([AP]M|[ap]m)$/.test(s):P=/^(?:[01]?\d|2[0-3]):[0-5]\d$/.test(s),!P)return a(new Error(t("enter_valid_time")))}return a()}return e.timeFieldType==="time-picker"?(D=E||/^(?:[01]\d|2[0-3]):[0-5]\d(?:\s?(?:AM|PM|am|pm))?$/.test(s),S=t("enter_valid_time")):e.timeFormat==="ampm"?(D=/^(0?[1-9]|1[0-2]):[0-5]\d (AM|PM|am|pm)$/.test(s),S=t("enter_valid_time")):(D=/^(?:[01]\d|2[0-3]):[0-5]\d$/.test(s),S=t("enter_valid_time")),e.required&&E?a(new Error(se(e))):!E&&!D?a(new Error(S)):a()},trigger:["submit"]}),e.type==="date"&&p.push({validator:(C,i,a)=>{const s=typeof i=="string"?i.trim():i,E=s==null||s==="",w=s==="__PARTIAL__";if(e.dateFieldType==="dropdown")return e.required&&(E||w)?a(new Error(se(e))):w?a(new Error(t("enter_valid_date"))):a();if(e.required&&E)return a(new Error(se(e)));if(E)return a();const D=e.dateFormat||"MM/DD/YYYY";let S=!1;if(D==="MM/DD/YYYY"||D==="M/D/YYYY"?S=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12]\d|3[01])\/\d{4}$/.test(s):D==="DD/MM/YYYY"||D==="D/M/YYYY"?S=/^(0?[1-9]|[12]\d|3[01])\/(0?[1-9]|1[0-2])\/\d{4}$/.test(s):D==="YYYY-MM-DD"||D==="YYYY-M-D"?S=/^\d{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[12]\d|3[01])$/.test(s):D==="DD.MM.YYYY"||D==="D.M.YYYY"?S=/^(0?[1-9]|[12]\d|3[01])\.(0?[1-9]|1[0-2])\.\d{4}$/.test(s):S=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12]\d|3[01])\/\d{4}$/.test(s),!S)return a(new Error(t("enter_date_valid_format")));const P=e.minDateValue!==null&&e.minDateValue!==void 0&&e.minDateValue!=="",G=e.maxDateValue!==null&&e.maxDateValue!==void 0&&e.maxDateValue!=="";if(P||G){const Ie=ae(s,D);if(!Ie)return a(new Error(t("enter_valid_date")));const qe=P?ae(String(e.minDateValue),D):null,Se=G?ae(String(e.maxDateValue),D):null;if(qe&&Ie<qe){const xe=t("date_must_be_after");return a(new Error(xe.replace("{min}",String(e.minDateValue))))}if(Se&&Ie>Se){const xe=t("date_must_be_before");return a(new Error(xe.replace("{max}",String(e.maxDateValue))))}}return a()},trigger:["submit"]}),e.type==="number"&&(e.minValue!==null||e.maxValue!==null)&&(p.push({validator:(C,i,a)=>{if(i===""||i===null||i===void 0)return a();const s=Number(i);if(isNaN(s))return a(new Error(t("enter_valid_number")));const E=e.minValue!==null&&e.minValue!==void 0,w=e.maxValue!==null&&e.maxValue!==void 0;if(E&&s<e.minValue){if(w){const S=t("number_out_of_range");return a(new Error(S.replace("{min}",String(e.minValue)).replace("{max}",String(e.maxValue))))}const D=t("number_cannot_be_smaller_than");return a(new Error(D.replace("{min}",String(e.minValue))))}if(w&&s>e.maxValue&&e.minValue!==e.maxValue){if(E){const S=t("number_out_of_range");return a(new Error(S.replace("{min}",String(e.minValue)).replace("{max}",String(e.maxValue))))}const D=t("number_cannot_be_greater_than");return a(new Error(D.replace("{max}",String(e.maxValue))))}a()},trigger:["change","blur","submit"]}),ie(()=>v.value[h],C=>{const i=e.minValue!==null&&e.minValue!==void 0,a=e.maxValue!==null&&e.maxValue!==void 0;if(C===""||C===null||C===void 0){$.value[h]&&delete $.value[h];return}const s=Number(C);if(isNaN(s)){$.value[h]=t("enter_valid_number");return}if((i&&s<e.minValue||a&&s>e.maxValue)&&e.minValue!==e.maxValue){if(i&&a){const E=t("number_out_of_range");$.value[h]=E.replace("{min}",String(e.minValue)).replace("{max}",String(e.maxValue))}else if(i&&s<e.minValue){const E=t("number_cannot_be_smaller_than");$.value[h]=E.replace("{min}",String(e.minValue))}else if(a&&s>e.maxValue){const E=t("number_cannot_be_greater_than");$.value[h]=E.replace("{max}",String(e.maxValue))}return}$.value[h]&&delete $.value[h]})),V.value[h]=p}if(e.type==="date"&&e.dateFieldType==="input"&&(e.minDateValue!==null||e.maxDateValue!==null)){const p=e.minDateValue!==null&&e.minDateValue!==void 0&&e.minDateValue!=="",f=e.maxDateValue!==null&&e.maxDateValue!==void 0&&e.maxDateValue!=="";(p||f)&&ie(()=>v.value[h],F=>{if(!F||F===""||F==="__PARTIAL__"){$.value[h]&&delete $.value[h];return}const C=e.dateFormat||"MM/DD/YYYY";if(!((w,D)=>{let S=D.length;if(D.includes("M/D")||D.includes("D/M")?S=8:(D.includes("MM/DD")||D.includes("DD/MM")||D.includes("YYYY-MM-DD")||D.includes("YYYY-M-D")||D.includes("DD.MM.YYYY")||D.includes("D.M.YYYY"))&&(S=10),w.length<S)return!1;let P=[];if(w.indexOf("/")!==-1?P=w.split("/"):w.indexOf("-")!==-1?P=w.split("-"):w.indexOf(".")!==-1&&(P=w.split(".")),P.length===3){let G="";if(D.startsWith("YYYY")?G=P[0]:G=P[2],G.length!==4||isNaN(Number(G)))return!1}else return!1;return!0})(String(F),C)){$.value[h]&&delete $.value[h];return}const a=ae(String(F),C);if(!a){$.value[h]&&delete $.value[h];return}const s=p?ae(String(e.minDateValue),C):null,E=f?ae(String(e.maxDateValue),C):null;Ve(()=>{if(s&&a<s){const w=t("date_must_be_after");$.value[h]=w.replace("{min}",String(e.minDateValue));return}if(E&&a>E){const w=t("date_must_be_before");$.value[h]=w.replace("{max}",String(e.maxDateValue));return}$.value[h]&&delete $.value[h]})})}if(e.type==="email"&&e.confirmFieldEnabled){const p="emailConfirm_"+e.fieldIndex;v.value[p]="";const f=[];f.push({validator:(F,C,i)=>{const a=v.value[h],s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!a){i();return}if(!C){i(new Error(t("enter_email_address")));return}if(!s.test(C)){i(new Error(t("enter_email_address")));return}if(a&&C!==a){i(new Error(t("emails_do_not_match")));return}i()},trigger:["submit"]}),V.value[p]=f}typeof window<"u"&&(window.IvyForms?.hooks?.fieldInit||[]).forEach(F=>{try{F(e,{formValues:v.value,formRules:V.value,getLabel:t,fieldErrors:$.value})}catch(C){console.error(t("error_in_field_init_hook"),C)}})}),L.value=!1,setTimeout(()=>{T.value&&T.value.clearValidate()},50);const k=d.value.closest(".ivyforms-frontend")?.getAttribute("data-counter"),o=document.querySelector(`.ivyforms-skeleton-${k}`);o&&o.remove()}else console.error(t("invalid_form_data"),z)}else console.error(t("form_data_not_found")),L.value=!1;let y=z.value.counter||"";if(!y&&d.value){const u=d.value.closest(".ivyforms-frontend");u&&u.dataset.counter&&(y=u.dataset.counter)}if(y){const u=document.getElementById("ivyforms-app-"+y);u&&u.dataset&&(Me.value=u.dataset.postId||"",Ce.value=u.dataset.referer||document.referrer||"")}});function se(r){const y=r.requiredMessage;if(typeof y=="string"&&y.trim()!=="")return y;let u;return u=Ue(r.label||r.type),u+=` ${t("required")}`,u}const Ue=r=>r?r[0]?.toLocaleUpperCase()+r.slice(1):"",ae=(r,y)=>{let u=0,b=0,k=0,o=[];if(r.indexOf("/")!==-1?o=r.split("/"):r.indexOf("-")!==-1?o=r.split("-"):r.indexOf(".")!==-1?o=r.split("."):o=[r],y.startsWith("MM")||y.startsWith("M")?(b=parseInt(o[0],10),u=parseInt(o[1],10),k=parseInt(o[2],10)):y.startsWith("DD")||y.startsWith("D")?(u=parseInt(o[0],10),b=parseInt(o[1],10),k=parseInt(o[2],10)):y.startsWith("YYYY")&&(k=parseInt(o[0],10),b=parseInt(o[1],10),u=parseInt(o[2],10)),u&&b&&k){const e=new Date(k,b-1,u);if(e.getFullYear()===k&&e.getMonth()===b-1&&e.getDate()===u)return e}return null},ke=()=>{if(!Y.value||Y.value.length===0)return"top";const r=Y.value.reduce((u,b)=>{const k=b.labelPosition||"top";return u[k]=(u[k]||0)+1,u},{});switch(Object.keys(r).reduce((u,b)=>r[u]>r[b]?u:b)){case"left":return"left";case"right":return"right";default:return"top"}},Ge=async()=>{T.value&&await T.value.validate(async(r,y)=>{if(r){if(Y.value.some(o=>o.type==="recaptcha")){const o=H.value?.find(e=>e&&e.$props&&e.$props.field&&e.$props.field.type==="recaptcha");if(o&&o.executeRecaptcha)try{const e=await o.executeRecaptcha(),h=`recaptcha_${o.$props.field.fieldIndex}`;v.value[h]=e}catch(e){console.error("reCAPTCHA execution failed:",e);return}}if(Y.value.some(o=>o.type==="turnstile")){const o=H.value?.find(e=>e&&e.$props&&e.$props.field&&e.$props.field.type==="turnstile");if(o){const e=`turnstile_${o.$props.field.fieldIndex}`,h=v.value[e];if(!h||h.toString().trim()===""){$.value={...$.value,[e]:t("turnstile_complete_verification")},be();return}}}if(Y.value.some(o=>o.type==="hcaptcha")){const o=H.value?.find(e=>e&&e.$props&&e.$props.field&&e.$props.field.type==="hcaptcha");if(o){const e=`hcaptcha_${o.$props.field.fieldIndex}`,h=v.value[e];if(!h||h.toString().trim()===""){$.value={...$.value,[e]:t("hcaptcha_complete_verification")},be();return}}}await Ye()}else $.value={},Object.keys(y).forEach(u=>{const k=y[u][0]?.message||t("invalid_input");$.value[u]=k}),be()})},be=()=>{Ve(()=>{const r=document.querySelector(".ivyforms-form-field .is-error input, .ivyforms-form-field .is-error textarea, .ivyforms-form-field .is-error select");r&&typeof r.scrollIntoView=="function"&&(r.scrollIntoView({behavior:"smooth",block:"center"}),r instanceof HTMLElement&&typeof r.focus=="function"&&r.focus({preventScroll:!0}))})};Ke("clearFieldError",r=>{if($.value[r]&&delete $.value[r],r.includes(".")){const y=r.split(".")[0];$.value[y]&&delete $.value[y]}}),Ke("formValues",v);const Je=()=>{g.value=!0,v.value={},Ve(()=>{g.value=!1})},Ye=async()=>{I.value=!0,$.value={};const r={...v.value};Y.value.forEach(y=>{if(y.type==="website"){const u=y.type+"_"+y.fieldIndex,b=r[u]||"",k=y.inputPrefix||"",o=y.inputSuffix||"";let e=b;b&&(k||o)&&(k&&!e.startsWith(k)&&(e=k+e),o&&!e.endsWith(o)&&(e=e+o)),r[u]=e}});try{const{data:y,error:u,status:b}=await _("form/submission/",{method:"POST",headers:{"Content-Type":"application/json"},data:{formId:z.value.id,values:r,nonce:U.value,postId:Me.value,referer:Ce.value}});if(y.data.data.is_duplicate){const h=y.data.data.duplicate_errors;for(const p of Y.value){const f=p.type+"_"+p.fieldIndex;if(h[p.id]){const F=v.value[f];F&&F.toString().trim()!==""&&($.value[f]=t("duplicate_value_error_label").replace("{label}",p.label?.toLowerCase()||"value"))}}I.value=!1;return}if(b!==200||u){bt({type:"error",message:t("error_submitting_form")+(u?u.message:y)}),I.value=!1;return}x.value=!0,await new Promise(h=>setTimeout(h,600)),Je(),I.value=!1,x.value=!1;const k=W.value[0].type,o=W.value[0].enabled,e=W.value[0].showForm;if(!o)return;if(k==="successMessage")if(e)_e.value=!0,ye.value=y.data.data.confirmation||W.value[0].message||t("thank_you"),setTimeout(()=>{const h=document.querySelector(".ivyforms-success-message");h&&h.classList.add("ivyforms-fade-out"),setTimeout(()=>{_e.value=!1},500)},5e3);else{ve.value=!0,ye.value=y.data.data.confirmation||W.value[0].message||t("thank_you");return}else k==="redirectToPage"&&W.value[0].pageUrl?window.location.href=W.value[0].pageUrl:k==="redirectToCustomUrl"&&W.value[0].url&&(window.location.href=W.value[0].url)}catch(y){console.error(t("error_submitting_form"),y),I.value=!1}};return(r,y)=>{const u=yt;return q(),A("div",{ref_key:"formWrapperRef",ref:d,class:j(["ivyforms-form-wrapper","ivyforms-form-wrapper-"+z.value.id])},[ve.value?(q(),A("div",rr,[N(u,{html:ye.value||re(t)("thank_you"),"field-type":"confirmation"},null,8,["html"])])):(q(),A(Fe,{key:1},[_e.value?(q(),A("div",ir,[N(u,{html:ye.value||re(t)("thank_you"),"field-type":"confirmation"},null,8,["html"])])):Q("",!0),z.value.showTitle?(q(),A("h3",{key:1,class:j(["ivyforms-form-title","ivyforms-form-title-"+z.value.id])},X(z.value.name),3)):Q("",!0),z.value.showDescription?(q(),A("p",{key:2,class:j(["ivyforms-form-description","ivyforms-form-description-"+z.value.id])},X(z.value.description),3)):Q("",!0),N(_t,{id:"ivyforms-form-"+z.value.id,ref_key:"formRef",ref:T,class:j("ivyforms-form ivyforms-form-"+z.value.id),"data-form-id":z.value.id,rules:V.value,model:v.value,"label-position":ke(),onSubmit:Te(Ye,["prevent"])},{default:pe(()=>[(q(!0),A(Fe,null,Pe(je.value,(b,k)=>(q(),A("div",{key:"row-"+k,class:"ivyforms-form-row ivyforms-flex ivyforms-gap-12 ivyforms-mb-16 ivyforms-width-100 ivyforms-flex-wrap-wrap"},[(q(!0),A(Fe,null,Pe(b,o=>(q(),A("div",{key:o.type+"_"+o.fieldIndex,class:"ivyforms-form-field",style:ht({width:b.length>1?`calc(${o.width||100}% - ${12*(b.length-1)/b.length}px)`:`${o.width||100}%`,flex:"0 0 auto"})},[(q(),$e(gt(de[o.type]),{ref_for:!0,ref_key:"formFieldsCollectorRefs",ref:H,modelValue:v.value[o.type+"_"+o.fieldIndex],"onUpdate:modelValue":e=>v.value[o.type+"_"+o.fieldIndex]=e,field:o,error:$.value[o.type+"_"+o.fieldIndex],"field-errors":$.value,"label-position":ke()},null,8,["modelValue","onUpdate:modelValue","field","error","field-errors","label-position"]))],4))),128))]))),128)),J("div",{class:j(["ivyforms-form-submit",`ivyforms-form-submit--${z.value.formActionButtons?.submitButtonSettings?.position||"default"}`])},[N(wt,{id:"ivyforms-form-submit-button-"+z.value.id,priority:"tertiary",type:"border",onClick:Te(Ge,["prevent","stop"])},{default:pe(()=>[we(X(z.value.formActionButtons?.submitButtonSettings?.label||re(t)("submit"))+" ",1),I.value?(q(),$e(tr,{key:0,completed:x.value,class:"ivyforms-ml-8"},null,8,["completed"])):Q("",!0)]),_:1},8,["id"])],2)]),_:1},8,["id","class","data-form-id","rules","model","label-position"])],64))],2)}}}),ar=ee(sr,[["__scopeId","data-v-1bea8d57"]]);function Oe(c){if(!c||typeof c!="string")return null;try{return JSON.parse(c)}catch{try{let l=c.replace(/&quot;/g,'"');return l=l.replace(/&amp;/g,"&"),l=l.replace(/&#039;/g,"'"),l=l.replace(/&lt;/g,"<"),l=l.replace(/&gt;/g,">"),JSON.parse(l)}catch{return null}}}function Ee(c){const l=document.getElementById(`ivyforms-app-${c}`);if(!l)return null;const m=l.closest("[data-ivyforms-data]");if(m){const t=m.getAttribute("data-ivyforms-data");if(t){const _=Oe(t);if(_&&_[c])return _[c]}}const n=document.querySelector(`script.ivyforms-ssr-data[data-ivyforms-counter="${c}"]`);if(n){const t=n.textContent||n.innerText||"",_=Oe(t);if(_)return _}return null}function ce(c){const l=document.querySelector(`#ivyforms-app-${c.counter}`);if(l){if(l.querySelector("[data-v-app]")||l.hasAttribute("data-v-app"))return;try{const _=l.closest(".ivyforms-gutenberg-block");if(_){const g=_.getAttribute("data-show-title")!=="false",I=_.getAttribute("data-show-description")!=="false";if(!g){const x=l.querySelector(".ivyforms-form-title");x&&(x.style.display="none")}if(!I){const x=l.querySelector(".ivyforms-form-description");x&&(x.style.display="none")}}}catch{}const m=It(ar,{formData:c}),n=xt();m.use(n),Ft(n).initialize(),(function(){Vt();const g=window;g.IvyForms=g.IvyForms||{api:he,hooks:he.hooks,fields:he.fields},g.IvyForms.api=he;const I=((x,M)=>x&&M?(I[x]=M,M):I);$t(I),g.IvyForms.components=I,g.IvyForms.registerComponent=(x,M)=>I(x,M),g.IvyForms.types=Et,g.IvyForms.pro})(),m.mount(l),Dt({scope:"public",counter:c.counter})}}function Ne(){typeof window<"u"&&window.wpIvyFormDataList&&(Array.isArray(window.wpIvyFormDataList)?window.wpIvyFormDataList:Object.values(window.wpIvyFormDataList)).forEach(l=>{l&&typeof l=="object"&&l.counter!==void 0&&ce(l)})}function He(){document.querySelectorAll('[id^="ivyforms-app-"]').forEach(l=>{const m=l.id.replace("ivyforms-app-","");if(l.querySelector("[data-v-app]")||l.hasAttribute("data-v-app"))return;const n=Ee(m);n&&(window.wpIvyFormDataList||(window.wpIvyFormDataList={}),window.wpIvyFormDataList[m]=n,ce(n))})}typeof window<"u"&&window.IvyForms?.isGutenbergEditor&&(window.ivyFormsInitialize=Ne);Ne();typeof window<"u"&&window.IvyForms?.isGutenbergEditor&&(He(),[100,300,500,1e3,2e3].forEach(l=>{setTimeout(()=>{He()},l)}));typeof window<"u"&&typeof MutationObserver<"u"&&window.IvyForms?.isGutenbergEditor&&new MutationObserver(l=>{const m=new Set;l.forEach(n=>{n.addedNodes.forEach(t=>{if(!(t instanceof HTMLElement))return;if(t.id&&t.id.startsWith("ivyforms-app-")){const g=t.id.replace("ivyforms-app-","");m.add(g);return}const _=t.querySelector('[id^="ivyforms-app-"]');if(_&&_.id){const g=_.id.replace("ivyforms-app-","");m.add(g)}})}),m.size>0&&m.forEach(n=>{setTimeout(()=>{const t=Ee(n);if(t){window.wpIvyFormDataList||(window.wpIvyFormDataList={}),window.wpIvyFormDataList[n]=t,ce(t);return}const g=window.wpIvyFormDataList;if(g&&g[n])ce(g[n]);else{let I=0;const x=5,M=setInterval(()=>{const K=Ee(n);if(K){clearInterval(M),window.wpIvyFormDataList||(window.wpIvyFormDataList={}),window.wpIvyFormDataList[n]=K,ce(K);return}const v=window.wpIvyFormDataList;v&&v[n]?(clearInterval(M),ce(v[n])):++I>=x&&clearInterval(M)},100)}},50)})}).observe(document.body,{childList:!0,subtree:!0});
